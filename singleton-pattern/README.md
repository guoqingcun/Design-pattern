+ 定义  

> ensure a class has only one instance, and provide a point of access it  

+ 优点  

> 
    1. 在单例模式中，确保系统都访问一个实例  
    2. 内存中只存在一个对象，因此可以 节约系统资源，当频繁创建和销毁的对象时单例模式无疑可以提高系统的性能。 
    3. 允许可变数目的实例（多例模式）。 
    4. 避免对共享资源的多重占用。 

+ 缺点： 

>
    1. 单例模式一般没有实现接口，扩展困难
    2. 单例模式在并行开发时，不利于测试。因为mock需要类实现接口 
    3. 单例类的职责过重，在一定程度上违背了“单一职责原则”。 
 
+ 使用注意事项： 

>
    1. 使用时不能用反射模式创建单例，否则会破坏单例模式
    2. 使用懒单例模式时注意线程安全问题 
    3. JVM不回收单例对象(设计模式之禅一书中的观点是伪命题，详见代码SingletonAndGC),原理见总结部分
    

+ 应用场景举例： 

>
    1.外部资源：每台计算机有若干个打印机，但只能有一个PrinterSpooler，以避免两个打印作业同时输出到打印机。内部资源：大多数软件都有一个（或多个）属性文件存放系统配置，这样的系统应该有一个对象管理这些属性文件 
    2. Windows的Task Manager（任务管理器）就是很典型的单例模式（这个很熟悉吧），想想看，是不是呢，你能打开两个windows task manager吗？ 不信你自己试试看哦~ 
    3. windows的Recycle Bin（回收站）也是典型的单例应用。在整个系统运行过程中，回收站一直维护着仅有的一个实例。 
    4. 网站的计数器，一般也是采用单例模式实现，否则难以同步。 
    5. 应用程序的日志应用，一般都何用单例模式实现，这一般是由于共享的日志文件一直处于打开状态，因为只能有一个实例去操作，否则内容不好追加。 
    6. Web应用的配置对象的读取，一般也应用单例模式，这个是由于配置文件是共享的资源。 
    7. 数据库连接池的设计一般也是采用单例模式，因为数据库连接是一种数据库资源。数据库软件系统中使用数据库连接池，节省打开或者关闭数据库连接所引起的效率损耗，这种效率上的损耗还是非常昂贵的，因为何用单例模式来维护，就可以大大降低这种损耗。 
    8. 多线程的线程池的设计一般也是采用单例模式，这是由于线程池要方便对池中的线程进行控制。 
    9. 操作系统的文件系统，也是大的单例模式实现的具体例子，一个操作系统只能有一个文件系统。 





---
> 总结  
  如果使用单例模式，建议使用恶汉模式（例子：Singleton1）  
 
> 单例实例和GC的问题:    
 	hotspot VM使用对象引用是否可达到来做垃圾回收，也就是从GC root点开始查，不可达到的对象，就被GC掉。那什么可以做为GC root呢。如下：  
 	   
>  1. 虚拟机栈（栈桢中的本地变量表）中的引用的对象  
   2. 方法区中的类静态属性引用的对象(单例符合本条件)。  
   3. 方法区中的常量引用的对象。  
   4. 本地方法栈中JNI的引用的对象。  
   
>  我们知道方法区同样会被回收，那单例类被卸载掉后，单例对象还存在吗？我们首先看下类卸载的条件，如下：  

>  1. 该类所有的实例都已经被回收，也就是java堆中不存在该类的任何实例(单例对象依然存在)。  
   2. 加载该类的ClassLoader已经被回收。  
   3. 该类对应的java.lang.Class对象没有任何地方被引用，无法在任何地方通过反射访问该类的方法。  
  
> 所以不必担心单例对象被回收的情况
